{"version":3,"sources":["logo.svg","components/DataGrid.js","components/DatePicker.js","StirlandsHelper.js","pages/Page.js","components/Authenticate.js","pages/Login.js","components/Menu.js","components/LoginButton.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","DataGrid","state","data","props","columns","sort","user","undefined","this","id","map","col","Icon","Object","entries","Icons","find","name","toLowerCase","icon","field","key","headerStyle","textAlign","title","class","displayName","datatype","type","render","rowData","iconToRender","iconRender","defaultSort","endsWith","hidden","cellStyle","rfuserrole","allowEdit","editable","sortable","Component","style","noData","position","fontSize","DatePicker","StirlandsHelper","method","formData","returnData","append","fetch","body","credentials","then","response","a","json","console","log","ajaxPost","FormData","Page","isLoggedIn","isAuthenticated","loadGrid","filters","query","resp","setState","Typography","withRouter","Login","username","password","loginFailed","handleLoginClick","bind","checkAuthentication","auth","result","event","keys","forEach","r","target","value","history","classes","push","inputProps","step","className","formControl","labelProps","inputLabel","required","color","Container","grid","Card","CardContent","form","FormControl","TextField","error","InputLabelProps","label","placeholder","onChange","handleUsernameChange","onKeyPress","handlePasswordChange","CardActions","Button","loginButton","onClick","theme","display","placeContent","placeSelf","height","width","gridAutoFlow","gap","padding","borderRadius","withTheme","withStyles","Menu","drawerOpen","toggle","drawerTrigger","pages","getIcon","iconName","toggleDrawer","children","rest","location","to","pathname","from","ListItemLink","primary","CustomLink","React","useMemo","forwardRef","linkProps","ref","ListItem","component","ListItemIcon","ListItemText","Drawer","open","Paper","elevation","List","page","ItemIcon","route","filterFields","formFields","exact","path","LoginButton","paper","loggedInText","IconButton","Link","logout","ExitToApp","RouterLink","lb","palette","secondary","contrastText","backgroundColor","main","textDecoration","maxWidth","alignContent","alignItems","muiTheme","createMuiTheme","blue","pink","App","handleDrawerState","foundPages","resolved","forceUpdate","Backdrop","backdrop","CircularProgress","CssBaseline","ThemeProvider","basename","AppBar","Toolbar","menuButton","edge","aria-label","variant","root","background","border","boxShadow","zIndex","baseGrid","gridTemplateColumns","marginRight","spacing","flexGrow","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8736bcee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import React, { Component } from 'react';\r\nimport * as Icons from '@material-ui/icons';\r\nimport MaterialTable  from 'material-table';\r\n\r\nexport default class DataGrid extends Component {\r\n\r\n\tstatic style = {\r\n\t\tnoData: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tfontSize: '20px',\r\n\t\t}\r\n\t}\r\n\r\n    state = {\r\n\t\tdata: this.props.data,\r\n\t\tcolumns: this.props.columns,\r\n\t\tsort: this.props.sort,\r\n\t\tuser: this.props.user,\r\n\t}\r\n\r\n    render() {\r\n\t\tif (this.state.data === undefined || this.state.columns === undefined){\r\n\t\t\treturn (\r\n\t\t\t\t<div id=\"noData\"><p>No data has been found!</p></div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst data = this.state.data;\r\n\t\t\tconst columns = this.state.columns.map((col) => {\r\n\t\t\t\tconst Icon = Object.entries(Icons).find(([name, exported]) => name.toLowerCase() === col.icon)[1]\r\n\t\t\t\t\r\n\t\t\t\tfunction iconRender(rowData, iconToRender){\r\n\t\t\t\t\treturn rowData[col.key] === 1 ? <Icon /> : null\r\n\t\t\t\t}\r\n\t\t\t\tlet colConv = { \r\n\t\t\t\t\tfield: col.key,\r\n\t\t\t\t\theaderStyle: { textAlign: 'center' },\r\n\t\t\t\t\ttitle: <span class=\"columnHeader\" ><Icon />{col.displayName}</span>,\r\n\t\t\t\t\t...((col.datatype !== null && col.datatype !== 'icon') && { type: col.datatype }),\r\n\t\t\t\t\t...(col.datatype === 'icon' && { type: 'boolean', render: rowData =>  iconRender(rowData, col.icon)}),\r\n\t\t\t\t\t...(col.sort !== null && { defaultSort: col.sort === 1 ? 'asc' : 'desc' }),\r\n\t\t\t\t\t...(col.key.endsWith('id') && { hidden: true } ),\r\n\t\t\t\t\t...((col.datatype === 'numeric' || col.datatype === 'icon') && { cellStyle: { textAlign: 'center' } }),\r\n\t\t\t\t} \r\n\t\t\t\treturn colConv; \r\n\t\t\t});\r\n\r\n\t\t\t// Only allow editing if user is an administrator\r\n\t\t\tif (this.state.user?.rfuserrole === 'Administrator' && this.props.allowEdit){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MaterialTable \r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\t\teditable={{...this.props.editable}}\r\n\t\t\t\t\t\tsortable={true}\r\n\t\t\t\t\t/> \r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\t/>);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n}","import React from 'react';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n\tMuiPickersUtilsProvider,\r\n\tKeyboardTimePicker,\r\n\tKeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport 'date-fns';\r\n\r\nfunction DatePicker(props) {\r\n\r\n\t// The first commit of Material-UI\r\n\tconst [selectedDate, setSelectedDate] = React.useState(new Date(Date.now()));\r\n\r\n\tconst handleDateChange = (date) => {\r\n\t\tsetSelectedDate(date);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t<KeyboardDatePicker\r\n\t\t\t\tdisableToolbar\r\n\t\t\t\tvariant=\"inline\"\r\n\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tid={props.ident}\r\n\t\t\t\tlabel={props.label}\r\n\t\t\t\tvalue={selectedDate}\r\n\t\t\t\tonChange={handleDateChange}\r\n\t\t\t\tKeyboardButtonProps={{\r\n\t\t\t\t\t'aria-label': 'change date',\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</MuiPickersUtilsProvider>\r\n\t);\r\n}\r\n\r\nexport default DatePicker;","export default class StirlandsHelper {\r\n\r\n\tstatic async ajaxPost(method, formData){\r\n\t\tlet returnData = {};\r\n\t\tformData.append('queryMethod', method);\r\n\t\tawait fetch('https://bsch-jjohn1.chi.ac.uk/DAP522/src/api/dbInferface.php', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tcredentials: \"same-origin\"})\r\n\t\t\t\t\t  .then(async response => { returnData = await response.json()});\r\n\t\tconsole.log(method)\r\n\t\tconsole.log(returnData)\r\n\t\treturn returnData;\r\n\t}\r\n\r\n\tstatic async checkAuthentication() {\r\n\t\treturn await StirlandsHelper.ajaxPost('isLoggedIn', new FormData());\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport DataGrid from '../components/DataGrid';\r\nimport DatePicker from '../components/DatePicker';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Typography, Paper, IconButton, FormControl, TextField } from '@material-ui/core';\r\nimport { AutoComplete } from '@material-ui/lab';\r\nimport { Check } from '@material-ui/icons';\r\n\r\nclass Page extends Component {\r\n\r\n    state = {\r\n        isLoggedIn: this.props.isAuthenticated,\r\n        data: undefined,\r\n        columns: undefined,\r\n        loadGrid: false,\r\n        filters: [],\r\n    }\r\n\r\n    async componentDidMount(){\r\n        let response;\r\n        await StirlandsHelper.ajaxPost(this.props.query, new FormData()).then( resp => {\r\n            console.log(resp);\r\n            response = resp; \r\n        });\r\n\r\n        this.setState({ isLoggedIn: this.props.isAuthenticated, data: response.data, columns: response.columns, loadGrid: true });\r\n    }\r\n\r\n    render() {\r\n        let MainData;\r\n        if (this.state.loadGrid){\r\n           return <DataGrid user={this.props.user} data={this.state.data} columns={this.state.columns} title=\"Active players\" />;\r\n        } else {\r\n            return <Typography>No data yet</Typography>\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(Page)","import React, { Component } from 'react';\r\nimport logo from '../logo.svg';\r\n\r\nexport default class Authenticate extends Component {\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log('Called Authenticate Render')\r\n\t\treturn this.props.isAuthenticated ? (\r\n\t\t\t<div>Not Authenticated</div>\r\n\t\t) : (\r\n\t\t\t<div>Authenticated</div>\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { TextField, FormControl, Card, CardActions, CardContent } from '@material-ui/core';\r\nimport { Container, Button, withStyles, withTheme } from '@material-ui/core';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\nimport { Router, Redirect, useHistory, withRouter } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.handleLoginClick = this.handleLoginClick.bind(this);\r\n\t}\r\n\r\n\tstate = { \r\n\t\tusername: null, \r\n\t\tpassword: null, \r\n\t\tisLoggedIn: false,\r\n\t\tloginFailed: null,\r\n\t}\r\n\r\n\tstatic style = theme => {\r\n\t\treturn {\r\n\t\t\tgrid: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tplaceContent: 'center',\r\n\t\t\t\tplaceSelf: 'center',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow: 'row',\r\n\t\t\t\tgap: '1.5rem',\r\n\t\t\t\theight: 'min-content',\r\n\t\t\t},\r\n\t\t\tloginButton: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tborderRadius: '5px', \r\n\t\t\t},\r\n\t\t\tformControl: {\r\n\t\t\t\tpadding: '2rem',\r\n\t\t\t\tborderRadius: '5px',\r\n\t\t\t},\r\n\t\t\tinputLabel: {\r\n\t\t\t\tfontSize: '1.2rem'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync componentDidMount(){\r\n\t\tlet auth;\r\n\t\tawait StirlandsHelper.checkAuthentication().then(resp =>{\r\n\t\t\tconsole.log(resp);\r\n\t\t\tauth = resp;\r\n\t\t});\r\n\t\t\r\n\t\tthis.setState({isLoggedIn: auth.result.isAuthenticated});\r\n\t}\r\n\r\n\thandleLoginClick(event){\r\n\t\tlet formData = new FormData();\r\n\t\tObject.keys(this.state).forEach(key => formData.append(key, this.state[key]));\r\n\r\n\t\tlet resp = StirlandsHelper.ajaxPost(\"login\", formData);\r\n\t\tresp.then(r => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoggedIn: r.isAuthenticated,\r\n\t\t\t\tloginFailed: !r.isAuthenticated\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\thandleUsernameChange(event){\r\n\t\tthis.setState({\r\n\t\t\tusername: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandlePasswordChange(event){\r\n\t\tthis.setState({\r\n\t\t\tpassword: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { history, classes } = this.props;\r\n\r\n\t\tif (this.state.isLoggedIn)\r\n\t\t\thistory.push(\"/\");\r\n\r\n\t\tconst inputProps = {\r\n\t\t\tstep: 300,\r\n\t\t\tclassName: classes.formControl\r\n\t\t}\r\n\r\n\t\tconst labelProps = {\r\n\t\t\tclassName: classes.inputLabel,\r\n\t\t\trequired: true,\r\n\t\t\tcolor: 'primary',\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Container className={classes.grid}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<form className={classes.form}>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<TextField \r\n\t\t\t\t\t\t\t\t\terror={this.state.loginFailed}\r\n\t\t\t\t\t\t\t\t\tInputLabelProps={labelProps} \r\n\t\t\t\t\t\t\t\t\tlabel=\"Username\" \r\n\t\t\t\t\t\t\t\t\tinputProps={inputProps} \r\n\t\t\t\t\t\t\t\t\tclassName={classes.formControl} \r\n\t\t\t\t\t\t\t\t\tid=\"username\" name=\"usernmae\" placeholder=\"Enter Username\" \r\n\t\t\t\t\t\t\t\t\tonChange={ (event) => { this.handleUsernameChange(event) }} \r\n\t\t\t\t\t\t\t\t\tonKeyPress={(event) => { \r\n\t\t\t\t\t\t\t\t\t\tif (event.key === 'Enter' && (this.state.username && this.state.password)){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleLoginClick(event);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<TextField \r\n\t\t\t\t\t\t\t\t\terror={this.state.loginFailed} \r\n\t\t\t\t\t\t\t\t\tInputLabelProps={labelProps} \r\n\t\t\t\t\t\t\t\t\tlabel=\"Password\" \r\n\t\t\t\t\t\t\t\t\tinputProps={inputProps} \r\n\t\t\t\t\t\t\t\t\tclassName={classes.formControl} \r\n\t\t\t\t\t\t\t\t\tid=\"password\" name=\"password\" type=\"password\" placeholder=\"Enter password here\"\r\n\t\t\t\t\t\t\t\t\tonChange={(event) =>  this.handlePasswordChange(event)}\r\n\t\t\t\t\t\t\t\t\tonKeyPress={(event) => { \r\n\t\t\t\t\t\t\t\t\t\tif (event.key === 'Enter' && (this.state.username && this.state.password)){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleLoginClick(event);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t<Button className={classes.loginButton} onClick={(event) => this.handleLoginClick(event)}>Login</Button>\r\n\t\t\t\t\t</CardActions>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(withTheme(withStyles(Login.style)(Login)));","import React, { Component } from \"react\";\r\nimport { Switch, Route, Link as RouterLink, Redirect, withRouter } from \"react-router-dom\";\r\nimport Page from '../pages/Page';\r\nimport { MenuBook, Menu as MenuIcon } from '@material-ui/icons';\r\nimport * as Icons from '@material-ui/icons';\r\nimport { Button, Paper, List, ListItem, ListItemText, ListItemIcon, withTheme, withStyles } from '@material-ui/core';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Authenticate from \"./Authenticate\";\r\nimport Login from \"../pages/Login\";\r\n\r\nclass Menu extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tisAuthenticated: this.props.isAuthenticated,\r\n\t\tuser: this.props.user,\r\n\t\tdrawerOpen: this.props.drawerOpen,\r\n\t\ttoggle: this.props.drawerTrigger,\r\n\t\tpages: this.props.pages,\r\n\t}\r\n\r\n    static style = theme => {\r\n    \treturn {\r\n    \t\tgrid: {\r\n    \t\t\tplaceSelf: 'center',\r\n    \t\t\theight: '100%',\r\n    \t\t\twidth: '100%',\r\n    \t\t}\r\n    \t}\r\n\t}\r\n\t\r\n\tgetIcon = (iconName) => Object.entries(Icons).find(([name, exported]) => name.toLowerCase() === iconName)[1]\r\n\r\n\r\n\tProtectedRoute({ children, isAuthenticated, ...rest }) {\t\r\n\t\treturn (\r\n\t\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={ ({location}) =>\r\n\t\t\t\tisAuthenticated ?\t(children) : (\r\n\t\t\t\t<Redirect\r\n\t\t\t\t\tto={{\r\n\t\t\t\t\tpathname: \"/login\",\r\n\t\t\t\t\tstate: { from: location }\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleDrawer = () => this.props.drawerTrigger;\r\n\r\n\trender(){\r\n\t\tconst  { history, classes } = this.props;\r\n\t\tconst auth = {\r\n\t\t\tisAuthenticated: this.state.isAuthenticated,\r\n\t\t\tuser: this.state.user\r\n\t\t};\r\n\t\tconsole.log('auth');\r\n\t\t\r\n\t\tfunction ListItemLink (props){\r\n\t\t\tconst { icon, primary, to, onClick } = props;\r\n\r\n\t\t\t  const CustomLink = React.useMemo(\r\n\t\t\t\t() =>\r\n\t\t\t\tReact.forwardRef((linkProps, ref) => (\r\n\t\t\t\t\t<RouterLink ref={ref} to={to} {...linkProps} />\r\n\t\t\t\t)),\r\n\t\t\t\t[to],\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<li onClick={onClick}>\r\n\t\t\t\t\t<ListItem component={CustomLink}>\r\n\t\t\t\t\t\t{icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n\t\t\t\t\t\t<ListItemText primary={primary} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={classes.grid}>\r\n\t\t\t\t<Drawer open={this.props.drawerOpen}>\r\n\t\t\t\t\t<Paper elevation={3}>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{ this.state.pages.forEach(page => {\r\n\t\t\t\t\t\t\t\tconst ItemIcon = this.getIcon(page.icon);\r\n\t\t\t\t\t\t\t\treturn <ListItemLink primary={page.title} to={page.route} icon={ <ItemIcon/> } onClick={this.props.drawerTrigger} />\r\n\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{ this.state.pages.forEach(page => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t\t<Page {...auth} query={page.query} filterFields={page.filterFields} formFields={page.formFields}/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t <Route exact path=\"/\">\r\n\t\t\t\t\t\t<Page {...auth} query=\"getplayers\"/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/login\">\r\n\t\t\t\t\t\t<Login/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(withTheme(withStyles(Menu.style)(Menu)));","import { ExitToApp } from '@material-ui/icons';\r\nimport React, { Component } from 'react';\r\nimport { Link as RouterLink, withRouter, Router } from 'react-router-dom';\r\nimport { withStyles, withTheme } from '@material-ui/core/styles';\r\nimport { Link, Typography, Paper, IconButton, Button } from '@material-ui/core';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\n\r\nclass LoginButton extends Component {\r\n\tstate = {\r\n\t\tisLoggedIn: this.props.isAuthenticated,\r\n\t\tuser: this.props.user\r\n\t}\r\n\r\n\r\n\tstatic style = theme =>  {\r\n\t\treturn {\r\n\t\t\tlb: {\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t\r\n\t\t\tloginButton: {\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t\tloggedInText: {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t},\r\n\t\t\tpaper: {\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\theight: '2rem',\r\n\t\t\t\twidth: '14rem',\r\n\t\t\t\tplaceContent: 'center',\r\n\t\t\t\talignContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow: 'column',\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tlet render;\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.state.isLoggedIn){\r\n\t\t\trender = (\r\n\t\t\t\t<Paper className={classes.paper} elevation={3}>\r\n\t\t\t\t\t<Typography component=\"span\" className={classes.loggedInText}>Logged in as { this.state.user.username }</Typography>\r\n\t\t\t\t\t<IconButton component={Link} to=\"/\" onClick={this.props.logout}>\r\n\t\t\t\t\t\t<ExitToApp />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Paper>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\trender = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Link component={RouterLink} to=\"/login\" className={ classes.lb }>\r\n\t\t\t\t\t\t<Button className={ classes.loginButton }>\r\n\t\t\t\t\t\t\tlogin\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn render;\r\n\t}\r\n}\r\n\r\nexport default withTheme(withStyles(LoginButton.style)(LoginButton));\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Menu  from './components/Menu';\r\nimport LoginButton  from './components/LoginButton';\r\nimport StirlandsHelper from './StirlandsHelper'\r\nimport { Backdrop, CircularProgress, CssBaseline, AppBar, Typography, IconButton, Toolbar, ThemeProvider} from '@material-ui/core';\r\nimport { Menu as MenuIcon } from '@material-ui/icons';\r\nimport './App.css';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { blue, pink } from '@material-ui/core/colors'\r\n\r\nconst muiTheme = createMuiTheme({\r\n  palette: {\r\n  \tprimary: {\r\n  \t\tmain: blue[700],\r\n\t  },\r\n\t  secondary: {\r\n\t\tmain: pink[500]\r\n\t  },\r\n  },\r\n});\r\n\r\nconst styles = (theme = muiTheme) => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tbackground: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n\t\t\tborder: 0,\r\n\t\t\tborderRadius: 3,\r\n\t\t\tboxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n\t\t\tcolor: 'black',\r\n\t\t\theight: 48,\r\n\t\t\tpadding: '0 30px',\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridAutoFlow: 'column'\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tzIndex: 100,\r\n\t\t\tcolor: '#999'\r\n\t\t},\r\n\t\tbaseGrid: {\r\n\t\t\tbackgroundColor: 'rgb(100, 100, 100)',\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridTemplateColumns: '1fr 3fr'\r\n\t\t},\r\n\t\tmenuButton: {\r\n\t\t\tmarginRight: theme.spacing(2),\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tflexGrow: 1,\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass App extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleDrawerState = this.handleDrawerState.bind(this);\r\n\t\tthis.logout = this.logout.bind(this);\r\n\t}\r\n\t\r\n\tstate = {\r\n\t\tisAuthenticated: null,\r\n\t\tuser: null,\r\n\t\topen: true,\r\n\t\tdrawerOpen: false,\r\n\t\tpages: null,\r\n\t}\r\n\r\n\tasync componentDidMount(){\r\n\t\tlet auth, foundPages;\r\n\t\t\r\n\t\tawait StirlandsHelper.checkAuthentication().then(resp => {\r\n\t\t\tauth = resp;\r\n\t\t});\r\n\r\n\t\tawait StirlandsHelper.ajaxPost(\"pages\", new FormData()).then(resp =>{\r\n\t\t\tfoundPages = resp;\r\n\t\t});\r\n\t\tconsole.log(auth);\r\n\t\tconsole.log(foundPages);\r\n\t\tthis.setState({ isAuthenticated: auth.result.isAuthenticated, user: auth.result.user, pages: foundPages })\r\n\t}\r\n\r\n\thandleDrawerState(){\r\n\t\tthis.setState({ drawerOpen: !this.state.drawerOpen });\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tStirlandsHelper.ajaxPost(\"logout\", new FormData()).then(resolved => resolved);\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst handleClose = () => {\r\n\t\t\tthis.setState({ open: false});\r\n\t\t};\r\n\r\n\t\tif (this.state.isAuthenticated === null){\r\n\t\t\treturn (\r\n\t\t\t\t<Backdrop className={classes.backdrop} open={ this.state.open } onClick={handleClose}>\r\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t\t</Backdrop>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tconsole.log(muiTheme.palette.primary)\r\n\t\t\treturn (\r\n\t\t\t\t<CssBaseline>\r\n\t\t\t\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t\t\t\t<Router basename=\"DAP522/assignment/\">\r\n\t\t\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t\t\t<IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\"  onClick={this.handleDrawerState} >\r\n\t\t\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.title} variant=\"h6\"> Stirlands Cricket Club </Typography>\r\n\t\t\t\t\t\t\t\t\t<LoginButton  logout={this.logout} isAuthenticated={ this.state.isAuthenticated } user={ this.state.user } />\r\n\t\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t\t\t<div className=\"rootGrid\">\r\n\t\t\t\t\t\t\t\t<Menu pages={this.state.pages} drawerOpen={this.state.drawerOpen} drawerTrigger={this.handleDrawerState} className={classes.root} isAuthenticated={this.state.isAuthenticated} user={this.state.user}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</CssBaseline>\r\n\t\t\t);\r\n\t\t}\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
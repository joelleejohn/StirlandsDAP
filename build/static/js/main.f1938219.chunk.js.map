{"version":3,"sources":["logo.svg","StirlandsHelper.js","components/DataGrid.js","pages/Home.js","components/Authenticate.js","pages/Login.js","pages/Error404.js","components/Menu.js","components/LoginButton.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","StirlandsHelper","method","formData","returnData","append","fetch","body","credentials","then","response","a","json","console","log","ajaxPost","FormData","DataGrid","props","state","data","columns","sort","user","selected","isOpenAdd","isOpenEdit","isOpenDelete","editPlayer","deletePlayer","locationData","teamData","playerData","dateregisteredraw","moment","dateofbirthraw","handleSelection","bind","handleDelete","handleAdd","handleEdit","getFormDetails","handleInputChange","handleComboChange","handleDateChange","reset","newSelection","this","setState","forEach","row","playerid","refreshData","newState","event","valueOverride","target","value","name","startsWith","checked","fieldname","substring","length","nameVersion","fieldName","selectedDate","rawFieldName","format","player","firstname","lastname","dateofbirth","dateregistered","isactive","iscaptain","iscurrent","homephone","homenumber","phonenumber","locationid","teamid","Object","keys","key","endsWith","parseInt","resp","result","classes","undefined","Paper","className","noData","Typography","map","col","Icon","entries","Icons","find","toLowerCase","icon","field","headerStyle","textAlign","datatype","title","displayName","type","render","rowData","iconToRender","iconRender","defaultSort","isHidden","hidden","cellStyle","rfuserrole","diableDelete","diableEdit","disableAdd","sortable","onSelectionChange","options","selection","pageSize","actions","tooltip","disabled","isFreeAction","onClick","rows","Modal","open","onClose","Card","modalForm","utils","MomentUtils","FormControl","TextField","required","label","id","placeholder","onBlur","defaultValue","Autocomplete","team","renderInput","params","variant","getOptionLabel","option","teamname","onChange","location","locationname","DatePicker","disableFuture","FormControlLabel","control","Switch","color","CardActions","Button","submit","Component","styles","theme","position","fontSize","display","alignItems","alignContent","justifyContent","placeContent","form","left","top","transform","minHeight","minWidth","padding","gap","paddingTop","backgroundColor","palette","secondary","main","contrastText","withTheme","withStyles","Home","isLoggedIn","auth","isAuthenticated","loadGrid","query","window","reload","allowEdit","component","width","withRouter","Login","username","password","loginFailed","handleLoginClick","checkAuthentication","r","history","replace","inputProps","step","formControl","labelProps","inputLabel","Container","grid","CardContent","error","InputLabelProps","onKeyPress","loginButton","style","placeSelf","height","gridAutoFlow","borderRadius","Error404","root","pathname","alignSelf","placeItems","gridAutoRows","marginLeft","Menu","drawerOpen","toggle","drawerTrigger","pages","toggleDrawer","children","rest","to","from","ListItemLink","primary","CustomLink","React","useMemo","forwardRef","linkProps","ref","ListItem","ListItemIcon","ListItemText","Drawer","elevation","List","page","iconName","route","exact","path","error404","LoginButton","paper","loggedInText","IconButton","Link","logout","ExitToApp","RouterLink","lb","textDecoration","maxWidth","muiTheme","createMuiTheme","blue","pink","App","handleDrawerState","foundPages","resolved","forceUpdate","Backdrop","backdrop","CircularProgress","CssBaseline","ThemeProvider","basename","AppBar","Toolbar","menuButton","edge","aria-label","background","border","boxShadow","zIndex","baseGrid","gridTemplateColumns","marginRight","spacing","flexGrow","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f1938219.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","export default class StirlandsHelper {\r\n\r\n\tstatic async ajaxPost(method, formData){\r\n\t\tlet returnData = {};\r\n\t\tformData.append('queryMethod', method);\r\n\t\tawait fetch('https://bsch-jjohn1.chi.ac.uk/DAP522/src/api/dbInferface.php', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tcredentials: \"same-origin\"})\r\n\t\t\t\t\t  .then(async response => { returnData = await response.json()});\r\n\t\tconsole.log(method + ' returned');\r\n\t\tconsole.log(returnData);\r\n\t\treturn returnData;\r\n\t}\r\n\r\n\tstatic async checkAuthentication() {\r\n\t\treturn await StirlandsHelper.ajaxPost('isLoggedIn', new FormData());\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport * as Icons from '@material-ui/icons';\r\nimport { withTheme, Typography, Switch, Button, Paper, CardActions, Card, Modal, FormControl, TextField, FormControlLabel } from '@material-ui/core';\r\nimport MaterialTable  from 'material-table';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport MomentUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\n\r\nclass DataGrid extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.handleSelection = this.handleSelection.bind(this);\r\n\t\tthis.handleDelete = this.handleDelete.bind(this);\r\n\t\tthis.handleAdd = this.handleAdd.bind(this);\r\n\t\tthis.handleEdit = this.handleEdit.bind(this);\r\n\t\tthis.getFormDetails = this.getFormDetails.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.handleComboChange = this.handleComboChange.bind(this);\r\n\t\tthis.handleDateChange = this.handleDateChange.bind(this);\r\n\t\tthis.reset = this.reset.bind(this);\r\n\t}\r\n\r\n\tstatic styles = (theme) =>{ \r\n\t\treturn {\r\n\t\t\tnoData: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tfontSize: '20px',\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\talignContent: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\tplaceContent: 'center',\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tdisplay: 'grid'\r\n\t\t\t},\r\n\t\t\tmodalForm: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tleft: '30%',\r\n\t\t\t\ttop: '50%',\r\n\t\t\t\ttransform: 'translate(50%, -50%)',\r\n\t\t\t\tminHeight: '50%',\r\n\t\t\t\tminWidth: '400px',\r\n\t\t\t\tpadding: '1rem',\r\n\t\t\t\tgap: '1rem'\r\n\t\t\t},\r\n\t\t\tsubmit: {\r\n\t\t\t\tpaddingTop: '10px',\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n    state = {\r\n\t\tdata: this.props.data,\r\n\t\tcolumns: this.props.columns,\r\n\t\tsort: this.props.sort,\r\n\t\tuser: this.props.user,\r\n\t\tselected: [],\r\n\t\tisOpenAdd: false,\r\n\t\tisOpenEdit: false,\r\n\t\tisOpenDelete: false,\r\n\t\teditPlayer: null,\r\n\t\tdeletePlayer: [],\r\n\t\tlocationData: null,\r\n\t\tteamData: null,\r\n\t\tplayerData: null,\r\n\t\tdateregisteredraw: new moment(),\r\n\t\tdateofbirthraw: new moment(),\r\n\t}\r\n\r\n\thandleSelection(newSelection) {\r\n\t\tthis.setState({ selected: newSelection, playerData: newSelection[0]});\r\n\t}\r\n\r\n\thandleDelete(selected){\r\n\t\tthis.state.selected.forEach(row => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('playerid', row.playerid);\r\n\t\t\tStirlandsHelper.ajaxPost('deletePlayer', formData);\r\n\t\t});\r\n\t\tthis.props.refreshData();\r\n\t}\r\n\r\n\thandleEdit(){\r\n\t\tconst newState = !this.state.isOpenEdit;\r\n\t\tthis.setState({ isOpenEdit: newState, playerData: newState ? this.state.selected[0]: null});\r\n\t}\r\n\r\n\thandleAdd(){\r\n\t\tconst newState = !this.state.isOpenAdd;\r\n\t\tthis.setState({ isOpenAdd: newState });\r\n\t}\r\n\r\n\thandleInputChange(event, valueOverride) {\r\n\t\tconst target = event.target;\r\n\t\tconst value = target.name.startsWith('is') ? target.checked : target.value;\r\n\t\tconst name = target.name;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\thandleComboChange(event, data, fieldname) {\r\n\t\tconst name = fieldname.substring(0, fieldname.length - 2)\r\n\t\tconst nameVersion = name + 'name';\r\n\t\tthis.setState({\r\n\t\t\t[fieldname] : data[fieldname],\r\n\t\t\t[nameVersion] : data[nameVersion],\r\n\t\t\t[name]: data\r\n\t\t});\r\n\t}\r\n\r\n\thandleDateChange(fieldName, selectedDate){\r\n\t\tconst rawFieldName = `${fieldName}raw`;\r\n\t\tconsole.log(selectedDate.format('YYYY-MM-DD'))\r\n\t\tthis.setState({ \r\n\t\t\t[fieldName]: selectedDate.format('YYYY-MM-DD'),\r\n\t\t\t[rawFieldName]: selectedDate,\t\t\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\treset(){\r\n\t\tthis.props.refreshData();\r\n\t\tthis.setState({ isOpenAdd: false, isOpenEdit: false, isOpenDelete: false})\r\n\t}\r\n\r\n\tgetFormDetails(method){\r\n\t\tlet formData = new FormData();\r\n\t\tlet player = {\r\n\t\t\t...{ playerid: this.state.playerid },\r\n\t\t\t...{ firstname: this.state.firstname },\r\n\t\t\t...{ lastname: this.state.lastname },\r\n\t\t\t...{ dateofbirth: this.state.dateofbirth },\r\n\t\t\t...{ dateregistered: this.state.dateregistered },\r\n\t\t\t...{ isactive: this.state.isactive },\r\n\t\t\t...{ iscaptain: this.state.iscaptain },\r\n\t\t\t...{ iscurrent: this.state.iscurrent },\r\n\t\t\t...{ homephone: this.state.homenumber },\r\n\t\t\t...{ phonenumber: this.state.phonenumber },\r\n\t\t\t...{ locationid: this.state.locationid },\r\n\t\t\t...{ teamid: this.state.teamid},\r\n\r\n\t\t}\r\n\t\tObject.keys(player).forEach(key => {\r\n\t\t\tlet value = player[key];\r\n\t\t\tif (key.startsWith('is')){\r\n\t\t\t\tvalue = player[key] ? 1 : 0\r\n\t\t\t}\r\n\t\t\tif (key.endsWith('id') || key.endsWith('number')){\r\n\t\t\t\tvalue = parseInt(player[key])\r\n\t\t\t}\r\n\t\t\tformData.append(key, value)\r\n\t\t});\r\n\r\n\t\tStirlandsHelper.ajaxPost(method, formData);\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\tasync componentDidMount(){\r\n\t\tlet { locationData, teamData } = this.state;\r\n\r\n\t\tif (!this.state.locationData || !this.state.teamData){\r\n\r\n\t\t\tawait StirlandsHelper.ajaxPost(\"locations\", new FormData()).then(resp => locationData = resp.result);\r\n\t\t\tawait StirlandsHelper.ajaxPost(\"teams\", new FormData()).then(resp => teamData = resp.result);\r\n\t\t}\r\n\r\n\r\n\r\n\t\tthis.setState({ locationData, teamData });\r\n\t}\r\n\r\n    render() {\r\n\r\n\t\tconst classes = this.props.classes;\r\n\r\n\t\tif (this.state.data === undefined || this.state.columns === undefined){\r\n\t\t\treturn (\r\n\t\t\t\t<Paper className={classes.noData}>\r\n\t\t\t\t\t<Typography>No data has been found!</Typography>\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst data = this.state.data;\r\n\t\t\tconst columns = this.state.columns.map((col) => {\r\n\t\t\t\tlet Icon;\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\t Icon = Object.entries(Icons).find(([name, exported]) => name.toLowerCase() === col.icon)[1]\r\n\t\t\t\t} catch {\r\n\t\t\t\t\tIcon = Icons.Help\r\n\t\t\t\t}\r\n\t\t\t\tfunction iconRender(rowData, iconToRender){\r\n\t\t\t\t\treturn rowData[col.key] === 1 ? <Icon /> : null\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet colConv = { \r\n\t\t\t\t\tfield: col.key,\r\n\t\t\t\t\theaderStyle: { textAlign: (col.datatype === 'numeric' || col.datatype === 'icon') ? \"center\" : \"left\" },\r\n\t\t\t\t\ttitle: <span className=\"columnHeader\" ><Icon />{col.displayName}</span>,\r\n\t\t\t\t\t...((col.datatype !== null && col.datatype !== 'icon') && { type: col.datatype }),\r\n\t\t\t\t\t...(col.datatype === 'icon' && { type: 'boolean', render: rowData =>  iconRender(rowData, col.icon)}),\r\n\t\t\t\t\t...(col.sort !== null && { defaultSort: col.sort === 1 ? 'asc' : 'desc' }),\r\n\t\t\t\t\t...((col.key.endsWith('id') || col?.isHidden) && { hidden: true } ),\r\n\t\t\t\t\t...((col.datatype === 'numeric' || col.datatype === 'icon') && { cellStyle: { textAlign: 'center' } }),\r\n\t\t\t\t} \r\n\t\t\t\treturn colConv; \r\n\t\t\t});\r\n\r\n\t\t\t// Only allow editing if user is an administrator\r\n\t\t\tif (this.state.user?.rfuserrole === 'Administrator'){\r\n\t\t\t\tlet diableDelete = this.state.selected.length < 1;\r\n\t\t\t\tlet diableEdit = this.state.selected.length !== 1;\r\n\t\t\t\tlet disableAdd = this.state.selected.length !== 0;\r\n\t\t\t\t\r\n\t\t\t\tconst Form = () =>{\r\n\t\t\t\t\tif (this.state.isOpenAdd) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Modal open={this.state.isOpenAdd} onClose={(event) => this.handleEdit()}>\r\n\t\t\t\t\t\t\t\t<Card className={classes.modalForm}>\r\n\t\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state?.firstname}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"firstname\" name=\"firstname\" placeholder=\"Enter first name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"lastname\" name=\"lastname\" placeholder=\"Enter last name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Home Phone\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.homenumber}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"homenumber\" name=\"homenumber\" type=\"tel\" placeholder=\"Enter home phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mobile\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.phonenumber}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"phonenumber\" name=\"phonenumber\" type=\"tel\" placeholder=\"Enter mobile phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<Autocomplete \r\n\t\t\t\t\t\t\t\t\t\toptions={this.state.teamData}\r\n\t\t\t\t\t\t\t\t\t\tid=\"teamid\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"teamid\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state?.team}\r\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"Team\" variant=\"outlined\"/>}\r\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.teamname }\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, data) => this.handleComboChange(event, data, 'teamid')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Autocomplete \r\n\t\t\t\t\t\t\t\t\t\toptions={this.state.locationData}\r\n\t\t\t\t\t\t\t\t\t\tid=\"locationid\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"locationid\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state?.location}\r\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"Location\" variant=\"outlined\"/>}\r\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.locationname }\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, data) => this.handleComboChange(event, data, 'locationid')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker disableFuture format=\"DD-MM-YYYY\" id=\"dateregistered\" value={this.state.dateregisteredraw}name=\"dateregistered\" label=\"Date Registered\" onChange={(moment) => this.handleDateChange(\"dateregistered\", moment)} />\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker disableFuture format=\"DD-MM-YYYY\" id=\"dateofbirth\" value={this.state.dateofbirthraw} name=\"dateofbirth\" label=\"D.O.B\" onChange={(moment) => this.handleDateChange(\"dateofbirth\", moment)} />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Current Team\" control={ <Switch color=\"secondary\" checked={this.state.iscurrent} name=\"iscurrent\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Active player\" control={ <Switch color=\"secondary\" checked={this.state.isactive} name=\"isactive\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Team Captain\" control={ <Switch color=\"primary\" checked={this.state.iscaptain} name=\"iscaptain\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t<Button className={classes.submit} onClick={(event) => this.getFormDetails('addPlayer')}>Add</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={(event) => this.handleAdd()}>Close</Button>\r\n\t\t\t\t\t\t\t\t\t</CardActions>\t\t\r\n\t\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (this.state.isOpenEdit){\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Modal open={this.state.isOpenAdd} onClose={(event) => this.handleEdit()}>\r\n\t\t\t\t\t\t\t\t<Card className={classes.modalForm}>\r\n\t\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state?.playerData?.firstname}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"firstname\" name=\"firstname\" placeholder=\"Enter first name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"lastname\" name=\"lastname\" placeholder=\"Enter last name\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Home Phone\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.playerData?.homenumber}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"homenumber\" name=\"homenumber\" type=\"tel\" placeholder=\"Enter home phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Mobile\"\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state?.phonenumber}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"phonenumber\" name=\"phonenumber\" type=\"tel\" placeholder=\"Enter mobile phone number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={(event) =>  this.handleInputChange(event)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t<Autocomplete \r\n\t\t\t\t\t\t\t\t\t\toptions={this.state.teamData}\r\n\t\t\t\t\t\t\t\t\t\tid=\"teamid\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"teamid\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state?.playerData?.team}\r\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"Team\" variant=\"outlined\"/>}\r\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.teamname }\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, data) => this.handleComboChange(event, data, 'teamid')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Autocomplete \r\n\t\t\t\t\t\t\t\t\t\toptions={this.state.locationData}\r\n\t\t\t\t\t\t\t\t\t\tid=\"locationid\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"locationid\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state?.playerData?.location}\r\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} label=\"Location\" variant=\"outlined\"/>}\r\n\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.locationname }\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, data) => this.handleComboChange(event, data, 'locationid')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker disableFuture format=\"DD-MM-YYYY\" id=\"dateregistered\" value={this.state.dateregisteredraw}name=\"dateregistered\" label=\"Date Registered\" onChange={(moment) => this.handleDateChange(\"dateregistered\", moment)} />\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker disableFuture format=\"DD-MM-YYYY\" id=\"dateofbirth\" value={this.state.dateofbirthraw} name=\"dateofbirth\" label=\"D.O.B\" onChange={(moment) => this.handleDateChange(\"dateofbirth\", moment)} />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Current Team\" control={ <Switch color=\"secondary\" checked={this.state.iscurrent} name=\"iscurrent\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Active player\" control={ <Switch color=\"secondary\" checked={this.state.isactive} name=\"isactive\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel label=\"Team Captain\" control={ <Switch color=\"primary\" checked={this.state.iscaptain} name=\"iscaptain\" onChange={(event) => this.handleInputChange(event)} />}  />\r\n\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t<Button className={classes.submit} onClick={(event) => this.getFormDetails('addPlayer')}>Add</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={(event) => this.handleAdd()}>Close</Button>\r\n\t\t\t\t\t\t\t\t\t</CardActions>\t\t\r\n\t\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else return null;\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<MaterialTable \r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\t\t\tsortable\r\n\t\t\t\t\t\t\tonSelectionChange={ row => this.handleSelection(row)}\r\n\t\t\t\t\t\t\toptions={{ selection: true, pageSize: 10}}\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttooltip: 'Add a new record',\r\n\t\t\t\t\t\t\t\t\ticon: 'add',\r\n\t\t\t\t\t\t\t\t\tdisabled: disableAdd,\r\n\t\t\t\t\t\t\t\t\tisFreeAction: true,\r\n\t\t\t\t\t\t\t\t\tonClick: (event, rows) => this.handleAdd()\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttooltip: 'Edit the selected row',\r\n\t\t\t\t\t\t\t\t\ticon: 'edit',\r\n\t\t\t\t\t\t\t\t\tdisabled: diableEdit,\r\n\t\t\t\t\t\t\t\t\tonClick: (event, rows) => this.handleEdit(rows)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttooltip: 'Delete Selected row(s)',\r\n\t\t\t\t\t\t\t\t\ticon: 'delete',\r\n\t\t\t\t\t\t\t\t\tdisabled: diableDelete,\r\n\t\t\t\t\t\t\t\t\tonClick: (event, rows) => this.handleDelete(rows)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<Form />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\t\tsortable\r\n\t\t\t\t\t\toptions={{pageSize: 10}}\r\n\t\t\t\t\t/>);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n}\r\n\r\nexport default withTheme(withStyles(DataGrid.styles)(DataGrid))","import React, { Component } from 'react';\r\nimport { Typography, Paper } from '@material-ui/core';\r\nimport DataGrid from '../components/DataGrid';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.refreshData = this.refreshData.bind(this);\r\n    }\r\n\r\n    static styles = {\r\n\t\tnoData: {\r\n\t\t\tdisplay: 'grid',\r\n\t\t\talignItems: 'center',\r\n\t\t\talignContent: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n            placeContent: 'center',\r\n            width: '50%'\r\n\t\t}\r\n\t}\r\n\r\n    state = {\r\n        isLoggedIn: this.props.auth.isAuthenticated,\r\n        data: undefined,\r\n        columns: undefined,\r\n        loadGrid: false,\r\n    }\r\n\r\n    async componentDidMount(){\r\n        let response;\r\n\r\n        await StirlandsHelper.ajaxPost(this.props.query, new FormData()).then( resp => {\r\n            response = resp; \r\n        });\r\n\r\n        this.setState({ data: response.data.result, columns: response.columns, loadGrid: response?.data?.result?.length > 1 });\r\n    }\r\n\r\n    refreshData(){\r\n        this.setState({ loadGrid: true});\r\n        window.location.reload();\r\n    }\r\n\r\n    render() {\r\n\r\n        const classes = this.props.classes;\r\n\r\n        if (this.state.loadGrid){\r\n            return (\r\n                <DataGrid user={this.props.auth.user} refreshData={this.refreshData} data={this.state.data} columns={this.state.columns} allowEdit={true} title={this.props.title} />\r\n            );\r\n        } else {\r\n            return (\r\n                <Paper className={classes.noData}>\r\n\t\t\t\t\t<Typography variant=\"h3\" component=\"p\">No data has been found!</Typography>\r\n\t\t\t\t</Paper>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(withStyles(Home.styles)(Home))","import React, { Component } from 'react';\r\nimport logo from '../logo.svg';\r\n\r\nexport default class Authenticate extends Component {\r\n\r\n\r\n\trender() {\r\n\t\tconsole.log('Called Authenticate Render')\r\n\t\treturn this.props.isAuthenticated ? (\r\n\t\t\t<div>Not Authenticated</div>\r\n\t\t) : (\r\n\t\t\t<div>Authenticated</div>\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport { TextField, FormControl, Card, CardActions, CardContent } from '@material-ui/core';\r\nimport { Container, Button, withStyles, withTheme } from '@material-ui/core';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\nimport { Router, Redirect, useHistory, withRouter } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.handleLoginClick = this.handleLoginClick.bind(this);\r\n\t}\r\n\r\n\tstate = { \r\n\t\tusername: null, \r\n\t\tpassword: null, \r\n\t\tisLoggedIn: false,\r\n\t\tloginFailed: null,\r\n\t}\r\n\r\n\tstatic style = theme => {\r\n\t\treturn {\r\n\t\t\tgrid: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tplaceContent: 'center',\r\n\t\t\t\tplaceSelf: 'center',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow: 'row',\r\n\t\t\t\tgap: '1.5rem',\r\n\t\t\t\theight: 'min-content',\r\n\t\t\t},\r\n\t\t\tloginButton: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tborderRadius: '5px', \r\n\t\t\t},\r\n\t\t\tformControl: {\r\n\t\t\t\tpadding: '2rem',\r\n\t\t\t\tborderRadius: '5px',\r\n\t\t\t},\r\n\t\t\tinputLabel: {\r\n\t\t\t\tfontSize: '1.2rem'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync componentDidMount(){\r\n\t\tlet auth;\r\n\t\tawait StirlandsHelper.checkAuthentication().then(resp =>{\r\n\t\t\tconsole.log(resp);\r\n\t\t\tauth = resp;\r\n\t\t});\r\n\t\t\r\n\t\tthis.setState({isLoggedIn: auth.isAuthenticated});\r\n\t}\r\n\r\n\thandleLoginClick(event){\r\n\t\tlet formData = new FormData();\r\n\t\tObject.keys(this.state).forEach(key => formData.append(key, this.state[key]));\r\n\r\n\t\tlet resp = StirlandsHelper.ajaxPost(\"login\", formData);\r\n\t\tresp.then(r => {\r\n\t\t\tconsole.log(r);\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoggedIn: r.isAuthenticated,\r\n\t\t\t\tloginFailed: !r.isAuthenticated\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { history, classes } = this.props;\r\n\r\n\t\tif (this.state.isLoggedIn)\r\n\t\t\thistory.replace(\"/players\");\r\n\r\n\t\tconst inputProps = {\r\n\t\t\tstep: 300,\r\n\t\t\tclassName: classes.formControl\r\n\t\t}\r\n\r\n\t\tconst labelProps = {\r\n\t\t\tclassName: classes.inputLabel,\r\n\t\t\trequired: true,\r\n\t\t\tcolor: 'primary',\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Container className={classes.grid}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<form className={classes.form}>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<TextField \r\n\t\t\t\t\t\t\t\t\terror={this.state.loginFailed}\r\n\t\t\t\t\t\t\t\t\tInputLabelProps={labelProps} \r\n\t\t\t\t\t\t\t\t\tlabel=\"Username\" \r\n\t\t\t\t\t\t\t\t\tinputProps={inputProps} \r\n\t\t\t\t\t\t\t\t\tclassName={classes.formControl} \r\n\t\t\t\t\t\t\t\t\tid=\"username\" name=\"usernmae\" placeholder=\"Enter Username\" \r\n\t\t\t\t\t\t\t\t\tonChange={ (event) => { this.setState({ username: event.target.value }) }} \r\n\t\t\t\t\t\t\t\t\tonKeyPress={(event) => { \r\n\t\t\t\t\t\t\t\t\t\tif (event.key === 'Enter' && (this.state.username && this.state.password)){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleLoginClick(event);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<TextField \r\n\t\t\t\t\t\t\t\t\terror={this.state.loginFailed} \r\n\t\t\t\t\t\t\t\t\tInputLabelProps={labelProps} \r\n\t\t\t\t\t\t\t\t\tlabel=\"Password\" \r\n\t\t\t\t\t\t\t\t\tinputProps={inputProps} \r\n\t\t\t\t\t\t\t\t\tclassName={classes.formControl} \r\n\t\t\t\t\t\t\t\t\tid=\"password\" name=\"password\" type=\"password\" placeholder=\"Enter password here\"\r\n\t\t\t\t\t\t\t\t\tonChange={(event) =>  this.setState({password: event.target.value})}\r\n\t\t\t\t\t\t\t\t\tonKeyPress={(event) => { \r\n\t\t\t\t\t\t\t\t\t\tif (event.key === 'Enter' && (this.state.username && this.state.password)){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleLoginClick(event);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t<Button className={classes.loginButton} onClick={(event) => this.handleLoginClick(event)}>Login</Button>\r\n\t\t\t\t\t</CardActions>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(withTheme(withStyles(Login.style)(Login)));","import React, { Component } from 'react';\r\nimport { Typography, Paper, Card } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nclass Error404 extends Component {\r\n\tstatic styles = {\r\n\t\troot: {\r\n\t\t\tplaceSelf: 'center',\r\n\t\t\talignSelf: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tplaceItems: 'center',\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridAutoRows: '4rem',\r\n\t\t\twidth: 'calc(100% - 65%)',\r\n\t\t\tmarginLeft: 'calc(100% - 75%)',\r\n\t\t\tpadding: '10px',\r\n\t\t}\r\n\t}\r\n\r\n    render() {\r\n\t\tconst classes = this.props.classes;\r\n\t\tconsole.log(this.props.location);\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.root}>\r\n\t\t\t\t<Typography variant=\"h4\" component=\"p\">Uh oh! The page: {this.props.location.pathname} doesn't exist!</Typography>\r\n\t\t\t\t<Typography variant=\"caption\" component=\"p\">Please use the menu to navigate to a page that does!</Typography>\r\n\t\t\t</Paper>\r\n\t\t);\r\n    }\r\n}\r\n\r\nexport default withRouter(withStyles(Error404.styles)(Error404))","import React, { Component } from \"react\";\r\nimport { Switch, Route, Link as RouterLink, Redirect, withRouter } from \"react-router-dom\";\r\nimport Home from '../pages/Home';\r\nimport * as Icons from '@material-ui/icons';\r\nimport { MenuBook, Menu as MenuIcon } from '@material-ui/icons';\r\nimport { Button, Paper, List, ListItem, ListItemText, ListItemIcon, withTheme, withStyles } from '@material-ui/core';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Authenticate from \"./Authenticate\";\r\nimport Login from \"../pages/Login\";\r\nimport Error404 from \"../pages/Error404\";\r\n\r\nclass Menu extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\r\n\t}\r\n\r\n\tstate = {\r\n\t\tisAuthenticated: this.props.isAuthenticated,\r\n\t\tuser: this.props.user,\r\n\t\tdrawerOpen: this.props.drawerOpen,\r\n\t\ttoggle: this.props.drawerTrigger,\r\n\t\tpages: this.props.pages,\r\n\t}\r\n\r\n    static style = theme => {\r\n    \treturn {\r\n    \t\tgrid: {\r\n    \t\t\tplaceSelf: 'center',\r\n    \t\t\theight: '100%',\r\n    \t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t\terror404: {\r\n\t\t\t\tplaceSelf: 'center',\r\n\t\t\t\talignSelf: 'center',\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoRows: '4rem',\r\n\t\t\t\twidth: '40%',\r\n\r\n\t\t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\tProtectedRoute({ children, isAuthenticated, ...rest }) {\t\r\n\t\treturn (\r\n\t\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={ ({location}) =>\r\n\t\t\t\tisAuthenticated ?\t(children) : (\r\n\t\t\t\t<Redirect\r\n\t\t\t\t\tto={{\r\n\t\t\t\t\tpathname: \"/login\",\r\n\t\t\t\t\tstate: { from: location }\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\ttoggleDrawer = () => this.props.drawerTrigger;\r\n\r\n\trender(){\r\n\t\tconst getIcon = (iconName) => Object.entries(Icons).find(([name, exported]) => name.toLowerCase() === iconName)[1];\r\n\t\tconst  { history, classes } = this.props;\r\n\r\n\t\tfunction ListItemLink (props){\r\n\t\t\tconst { icon, primary, to, onClick } = props;\r\n\r\n\t\t\t  const CustomLink = React.useMemo(\r\n\t\t\t\t() =>\r\n\t\t\t\tReact.forwardRef((linkProps, ref) => (\r\n\t\t\t\t\t<RouterLink ref={ref} to={to} {...linkProps} />\r\n\t\t\t\t)),\r\n\t\t\t\t[to],\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<li onClick={onClick}>\r\n\t\t\t\t\t<ListItem component={CustomLink}>\r\n\t\t\t\t\t\t{icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n\t\t\t\t\t\t<ListItemText primary={primary} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={classes.grid}>\r\n\t\t\t\t<Drawer open={this.props.drawerOpen}>\r\n\t\t\t\t\t<Paper elevation={0}>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t<ListItemLink primary=\"Home\" to=\"/players\" icon={ < Icons.PlayArrow />}/>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.pages.map(page => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = getIcon(page.icon);\r\n\t\t\t\t\t\t\t\t\treturn <ListItemLink key={page.route} primary={page.title} to={page.route} icon={ <Icon /> } onClick={this.props.drawerTrigger}/>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<Redirect to=\"/players\"/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/players\">\r\n\t\t\t\t\t\t<Home query=\"getPlayers\" title=\"Players\" auth={{ isAuthenticated: this.state.isAuthenticated, user: this.state.user }}/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/login\">\r\n\t\t\t\t\t\t<Login/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"*\">\r\n\t\t\t\t\t\t<Error404 className={classes.error404}/>\t\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(withTheme(withStyles(Menu.style)(Menu)))","import { ExitToApp } from '@material-ui/icons';\r\nimport React, { Component } from 'react';\r\nimport { Link as RouterLink, withRouter, Router } from 'react-router-dom';\r\nimport { withStyles, withTheme } from '@material-ui/core/styles';\r\nimport { Link, Typography, Paper, IconButton, Button } from '@material-ui/core';\r\nimport StirlandsHelper from '../StirlandsHelper';\r\n\r\nclass LoginButton extends Component {\r\n\tstate = {\r\n\t\tisLoggedIn: this.props.isAuthenticated,\r\n\t\tuser: this.props.user\r\n\t}\r\n\r\n\r\n\tstatic style = theme =>  {\r\n\t\treturn {\r\n\t\t\tlb: {\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t\r\n\t\t\tloginButton: {\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t\tloggedInText: {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tcolor: theme.palette.secondary.contrastText,\r\n\t\t\t},\r\n\t\t\tpaper: {\r\n\t\t\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\t\t\theight: '2rem',\r\n\t\t\t\twidth: '14rem',\r\n\t\t\t\tplaceContent: 'center',\r\n\t\t\t\talignContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow: 'column',\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tlet render;\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.state.isLoggedIn){\r\n\t\t\trender = (\r\n\t\t\t\t<Paper className={classes.paper} elevation={3}>\r\n\t\t\t\t\t<Typography component=\"span\" className={classes.loggedInText}>Logged in as { this.state.user.username }</Typography>\r\n\t\t\t\t\t<IconButton component={Link} to=\"/\" onClick={this.props.logout}>\r\n\t\t\t\t\t\t<ExitToApp />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Paper>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\trender = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Link component={RouterLink} to=\"/login\" className={ classes.lb }>\r\n\t\t\t\t\t\t<Button className={ classes.loginButton }>\r\n\t\t\t\t\t\t\tlogin\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn render;\r\n\t}\r\n}\r\n\r\nexport default withTheme(withStyles(LoginButton.style)(LoginButton));\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Menu  from './components/Menu';\r\nimport LoginButton  from './components/LoginButton';\r\nimport StirlandsHelper from './StirlandsHelper'\r\nimport { Backdrop, CircularProgress, CssBaseline, AppBar, Typography, IconButton, Toolbar, ThemeProvider} from '@material-ui/core';\r\nimport { Menu as MenuIcon } from '@material-ui/icons';\r\nimport './App.css';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { blue, pink } from '@material-ui/core/colors'\r\n\r\nconst muiTheme = createMuiTheme({\r\n  palette: {\r\n  \tprimary: {\r\n  \t\tmain: blue[700],\r\n\t  },\r\n\t  secondary: {\r\n\t\tmain: pink[500]\r\n\t  },\r\n  },\r\n});\r\n\r\nconst styles = (theme = muiTheme) => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tbackground: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n\t\t\tborder: 0,\r\n\t\t\tborderRadius: 3,\r\n\t\t\tboxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n\t\t\tcolor: 'black',\r\n\t\t\theight: 48,\r\n\t\t\tpadding: '0 30px',\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridAutoFlow: 'column'\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tzIndex: 100,\r\n\t\t\tcolor: '#999'\r\n\t\t},\r\n\t\tbaseGrid: {\r\n\t\t\tbackgroundColor: 'rgb(100, 100, 100)',\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridTemplateColumns: '1fr 3fr',\r\n\t\t},\r\n\t\tmenuButton: {\r\n\t\t\tmarginRight: theme.spacing(2),\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tflexGrow: 1,\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass App extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleDrawerState = this.handleDrawerState.bind(this);\r\n\t\tthis.logout = this.logout.bind(this);\r\n\t}\r\n\t\r\n\tstate = {\r\n\t\tisAuthenticated: null,\r\n\t\tuser: null,\r\n\t\topen: true,\r\n\t\tdrawerOpen: false,\r\n\t\tpages: [],\r\n\t}\r\n\r\n\tasync componentDidMount(){\r\n\t\tlet auth, foundPages;\r\n\t\tawait StirlandsHelper.checkAuthentication().then(resp => {\r\n\t\t\tauth = resp;\r\n\t\t});\r\n\r\n\t\tawait StirlandsHelper.ajaxPost(\"pages\", new FormData()).then(resp =>{\r\n\t\t\tfoundPages = resp;\r\n\t\t});\r\n\r\n\t\tthis.setState({ isAuthenticated: auth.isAuthenticated, user: auth.user[0], pages: foundPages })\r\n\t}\r\n\r\n\thandleDrawerState(){\r\n\t\tthis.setState({ drawerOpen: !this.state.drawerOpen });\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tStirlandsHelper.ajaxPost(\"logout\", new FormData()).then(resolved => resolved);\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst handleClose = () => {\r\n\t\t\tthis.setState({ open: false});\r\n\t\t};\r\n\r\n\t\tif (this.state.isAuthenticated === null){\r\n\t\t\treturn (\r\n\t\t\t\t<Backdrop className={classes.backdrop} open={ this.state.open } onClick={handleClose}>\r\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t\t</Backdrop>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<CssBaseline>\r\n\t\t\t\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t\t\t\t<Router basename=\"DAP522/assignment/\">\r\n\t\t\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t\t\t<IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\"  onClick={this.handleDrawerState} >\r\n\t\t\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.title} variant=\"h6\"> Stirlands Cricket Club </Typography>\r\n\t\t\t\t\t\t\t\t\t<LoginButton  logout={this.logout} isAuthenticated={ this.state.isAuthenticated } user={ this.state.user } />\r\n\t\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t\t\t<div className=\"rootGrid\">\r\n\t\t\t\t\t\t\t\t<Menu  pages={this.state.pages} drawerOpen={this.state.drawerOpen} drawerTrigger={this.handleDrawerState} className={classes.root} isAuthenticated={this.state.isAuthenticated} user={this.state.user}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</CssBaseline>\r\n\t\t\t);\r\n\t\t}\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
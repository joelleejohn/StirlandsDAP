(this.webpackJsonpstirlandscricket=this.webpackJsonpstirlandscricket||[]).push([[0],{386:function(e,t,a){e.exports=a(486)},391:function(e,t,a){},484:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},485:function(e,t,a){},486:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=(a(391),a(42)),s=a.n(l),c=a(70),u=a(22),d=a(18),m=a(28),h=a(26),p=a(33),g=a(29),f=a(101),b=a(23),v=a(4),E=a(105),y=a(119),O=a(61),C=a(268),j=a(11),w=a(115),k=a(363),D=a(165),x=a(514),A=a(263),S=a(220),I=a(358),F=a(522),N=a(515),L=a(121),P=a(357),Y=a(269),B=a.n(Y),M=a(487),T=a(524),q=a(30),R=a(255),W=a(272),G=a(164),H=a.n(G),V=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:"ajaxPost",value:function(){var e=Object(c.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a.append("queryMethod",t),e.next=4,fetch("https://bsch-jjohn1.chi.ac.uk/DAP522/src/api/dbInferface.php",{method:"POST",body:a,credentials:"same-origin"}).then(function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return console.log(t+" returned"),console.log(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"checkAuthentication",value:function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ajaxPost("isLoggedIn",new FormData);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e}(),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={data:a.props.data,columns:a.props.columns,sort:a.props.sort,user:a.props.user,selected:[],isOpenAdd:!1,isOpenEdit:!1,isOpenDelete:!1,editPlayer:null,deletePlayer:[],locationData:null,teamData:null,playerData:null,dateregisteredraw:new H.a,dateofbirthraw:new H.a},a.handleSelection=a.handleSelection.bind(Object(p.a)(a)),a.handleDelete=a.handleDelete.bind(Object(p.a)(a)),a.handleAdd=a.handleAdd.bind(Object(p.a)(a)),a.handleEdit=a.handleEdit.bind(Object(p.a)(a)),a.getFormDetails=a.getFormDetails.bind(Object(p.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handleComboChange=a.handleComboChange.bind(Object(p.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(p.a)(a)),a.reset=a.reset.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleSelection",value:function(e){this.setState({selected:e,playerData:e[0]})}},{key:"handleDelete",value:function(e){this.state.selected.forEach((function(e){var t=new FormData;t.append("playerid",e.playerid),V.ajaxPost("deletePlayer",t)})),this.props.refreshData()}},{key:"handleEdit",value:function(){var e=!this.state.isOpenEdit;this.setState({isOpenEdit:e,playerData:e?this.state.selected[0]:null})}},{key:"handleAdd",value:function(){var e=!this.state.isOpenAdd;this.setState({isOpenAdd:e})}},{key:"handleInputChange",value:function(e,t){var a=e.target,n=a.name.startsWith("is")?a.checked:a.value,r=a.name;this.setState(Object(j.a)({},r,n))}},{key:"handleComboChange",value:function(e,t,a){var n,r=a.substring(0,a.length-2),o=r+"name";this.setState((n={},Object(j.a)(n,a,t[a]),Object(j.a)(n,o,t[o]),Object(j.a)(n,r,t),n))}},{key:"handleDateChange",value:function(e,t){var a,n="".concat(e,"raw");console.log(t.format("YYYY-MM-DD")),this.setState((a={},Object(j.a)(a,e,t.format("YYYY-MM-DD")),Object(j.a)(a,n,t),a))}},{key:"reset",value:function(){this.props.refreshData(),this.setState({isOpenAdd:!1,isOpenEdit:!1,isOpenDelete:!1})}},{key:"getFormDetails",value:function(e){var t=new FormData,a=Object(C.a)({},{playerid:this.state.playerid},{},{firstname:this.state.firstname},{},{lastname:this.state.lastname},{},{dateofbirth:this.state.dateofbirth},{},{dateregistered:this.state.dateregistered},{},{isactive:this.state.isactive},{},{iscaptain:this.state.iscaptain},{},{iscurrent:this.state.iscurrent},{},{homephone:this.state.homenumber},{},{phonenumber:this.state.phonenumber},{},{locationid:this.state.locationid},{},{teamid:this.state.teamid});Object.keys(a).forEach((function(e){var n=a[e];e.startsWith("is")&&(n=a[e]?1:0),(e.endsWith("id")||e.endsWith("number"))&&(n=parseInt(a[e])),t.append(e,n)})),V.ajaxPost(e,t),this.reset()}},{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.locationData,n=t.teamData,this.state.locationData&&this.state.teamData){e.next=6;break}return e.next=4,V.ajaxPost("locations",new FormData).then((function(e){return a=e.result}));case 4:return e.next=6,V.ajaxPost("teams",new FormData).then((function(e){return n=e.result}));case 6:this.setState({locationData:a,teamData:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;if(void 0===this.state.data||void 0===this.state.columns)return r.a.createElement(y.a,{className:t.noData},r.a.createElement(O.a,null,"No data has been found!"));var a,n=this.state.data,o=this.state.columns.map((function(e){var t;try{t=Object.entries(w).find((function(t){var a=Object(b.a)(t,2),n=a[0];a[1];return n.toLowerCase()===e.icon}))[1]}catch(a){t=k.a}return Object(C.a)({field:e.key,headerStyle:{textAlign:"numeric"===e.datatype||"icon"===e.datatype?"center":"left"},title:r.a.createElement("span",{className:"columnHeader"},r.a.createElement(t,null),e.displayName)},null!==e.datatype&&"icon"!==e.datatype&&{type:e.datatype},{},"icon"===e.datatype&&{type:"boolean",render:function(a){return function(a,n){return 1===a[e.key]?r.a.createElement(t,null):null}(a,e.icon)}},{},null!==e.sort&&{defaultSort:1===e.sort?"asc":"desc"},{},(e.key.endsWith("id")||(null===e||void 0===e?void 0:e.isHidden))&&{hidden:!0},{},("numeric"===e.datatype||"icon"===e.datatype)&&{cellStyle:{textAlign:"center"}})}));if("Administrator"===(null===(a=this.state.user)||void 0===a?void 0:a.rfuserrole)){var i=this.state.selected.length<1,l=1!==this.state.selected.length,s=0!==this.state.selected.length;return r.a.createElement("div",null,r.a.createElement(B.a,{columns:o,data:n,title:this.props.title,sortable:!0,onSelectionChange:function(t){return e.handleSelection(t)},options:{selection:!0,pageSize:10},actions:[{tooltip:"Add a new record",icon:"add",disabled:s,isFreeAction:!0,onClick:function(t,a){return e.handleAdd()}},{tooltip:"Edit the selected row",icon:"edit",disabled:l,onClick:function(t,a){return e.handleEdit(a)}},{tooltip:"Delete Selected row(s)",icon:"delete",disabled:i,onClick:function(t,a){return e.handleDelete(a)}}]}),r.a.createElement((function(){var a,n,o,i,l,s,c,u,d,m,h,p,g,f,b,v;return e.state.isOpenAdd?r.a.createElement(D.a,{open:e.state.isOpenAdd,onClose:function(t){return e.handleEdit()}},r.a.createElement(x.a,{className:t.modalForm},r.a.createElement(q.a,{utils:W.a},r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"First Name",value:null===(a=e.state)||void 0===a?void 0:a.firstname,id:"firstname",name:"firstname",placeholder:"Enter first name",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Last Name",defaultValue:null===(n=e.state)||void 0===n?void 0:n.lastname,id:"lastname",name:"lastname",placeholder:"Enter last name",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Home Phone",defaultValue:null===(o=e.state)||void 0===o?void 0:o.homenumber,id:"homenumber",name:"homenumber",type:"tel",placeholder:"Enter home phone number",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Mobile",defaultValue:null===(i=e.state)||void 0===i?void 0:i.phonenumber,id:"phonenumber",name:"phonenumber",type:"tel",placeholder:"Enter mobile phone number",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(T.a,{options:e.state.teamData,id:"teamid",name:"teamid",value:null===(l=e.state)||void 0===l?void 0:l.team,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Team",variant:"outlined"}))},getOptionLabel:function(e){return e.teamname},onChange:function(t,a){return e.handleComboChange(t,a,"teamid")}}),r.a.createElement(T.a,{options:e.state.locationData,id:"locationid",name:"locationid",value:null===(s=e.state)||void 0===s?void 0:s.location,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Location",variant:"outlined"}))},getOptionLabel:function(e){return e.locationname},onChange:function(t,a){return e.handleComboChange(t,a,"locationid")}}),r.a.createElement(R.a,{disableFuture:!0,format:"DD-MM-YYYY",id:"dateregistered",value:e.state.dateregisteredraw,name:"dateregistered",label:"Date Registered",onChange:function(t){return e.handleDateChange("dateregistered",t)}}),r.a.createElement(R.a,{disableFuture:!0,format:"DD-MM-YYYY",id:"dateofbirth",value:e.state.dateofbirthraw,name:"dateofbirth",label:"D.O.B",onChange:function(t){return e.handleDateChange("dateofbirth",t)}}),r.a.createElement(I.a,{label:"Current Team",control:r.a.createElement(F.a,{color:"secondary",checked:e.state.iscurrent,name:"iscurrent",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(I.a,{label:"Active player",control:r.a.createElement(F.a,{color:"secondary",checked:e.state.isactive,name:"isactive",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(I.a,{label:"Team Captain",control:r.a.createElement(F.a,{color:"primary",checked:e.state.iscaptain,name:"iscaptain",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(N.a,null,r.a.createElement(L.a,{className:t.submit,onClick:function(t){return e.getFormDetails("addPlayer")}},"Add"),r.a.createElement(L.a,{onClick:function(t){return e.handleAdd()}},"Close"))))):e.state.isOpenEdit?r.a.createElement(D.a,{open:e.state.isOpenAdd,onClose:function(t){return e.handleEdit()}},r.a.createElement(x.a,{className:t.modalForm},r.a.createElement(q.a,{utils:W.a},r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"First Name",value:null===(c=e.state)||void 0===c?void 0:null===(u=c.playerData)||void 0===u?void 0:u.firstname,id:"firstname",name:"firstname",placeholder:"Enter first name",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Last Name",defaultValue:null===(d=e.state)||void 0===d?void 0:d.lastname,id:"lastname",name:"lastname",placeholder:"Enter last name",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Home Phone",defaultValue:null===(m=e.state)||void 0===m?void 0:null===(h=m.playerData)||void 0===h?void 0:h.homenumber,id:"homenumber",name:"homenumber",type:"tel",placeholder:"Enter home phone number",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{required:!0,label:"Mobile",defaultValue:null===(p=e.state)||void 0===p?void 0:p.phonenumber,id:"phonenumber",name:"phonenumber",type:"tel",placeholder:"Enter mobile phone number",onBlur:function(t){return e.handleInputChange(t)}})),r.a.createElement(T.a,{options:e.state.teamData,id:"teamid",name:"teamid",value:null===(g=e.state)||void 0===g?void 0:null===(f=g.playerData)||void 0===f?void 0:f.team,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Team",variant:"outlined"}))},getOptionLabel:function(e){return e.teamname},onChange:function(t,a){return e.handleComboChange(t,a,"teamid")}}),r.a.createElement(T.a,{options:e.state.locationData,id:"locationid",name:"locationid",value:null===(b=e.state)||void 0===b?void 0:null===(v=b.playerData)||void 0===v?void 0:v.location,renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Location",variant:"outlined"}))},getOptionLabel:function(e){return e.locationname},onChange:function(t,a){return e.handleComboChange(t,a,"locationid")}}),r.a.createElement(R.a,{disableFuture:!0,format:"DD-MM-YYYY",id:"dateregistered",value:e.state.dateregisteredraw,name:"dateregistered",label:"Date Registered",onChange:function(t){return e.handleDateChange("dateregistered",t)}}),r.a.createElement(R.a,{disableFuture:!0,format:"DD-MM-YYYY",id:"dateofbirth",value:e.state.dateofbirthraw,name:"dateofbirth",label:"D.O.B",onChange:function(t){return e.handleDateChange("dateofbirth",t)}}),r.a.createElement(I.a,{label:"Current Team",control:r.a.createElement(F.a,{color:"secondary",checked:e.state.iscurrent,name:"iscurrent",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(I.a,{label:"Active player",control:r.a.createElement(F.a,{color:"secondary",checked:e.state.isactive,name:"isactive",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(I.a,{label:"Team Captain",control:r.a.createElement(F.a,{color:"primary",checked:e.state.iscaptain,name:"iscaptain",onChange:function(t){return e.handleInputChange(t)}})}),r.a.createElement(N.a,null,r.a.createElement(L.a,{className:t.submit,onClick:function(t){return e.getFormDetails("addPlayer")}},"Add"),r.a.createElement(L.a,{onClick:function(t){return e.handleAdd()}},"Close"))))):null}),null))}return r.a.createElement(B.a,{columns:o,data:n,title:this.props.title,sortable:!0,options:{pageSize:10}})}}]),t}(n.Component);z.styles=function(e){return{noData:{position:"absolute",fontSize:"20px",display:"grid",alignItems:"center",alignContent:"center",justifyContent:"center",placeContent:"center"},form:{display:"grid"},modalForm:{display:"grid",position:"absolute",left:"30%",top:"50%",transform:"translate(50%, -50%)",minHeight:"50%",minWidth:"400px",padding:"1rem",gap:"1rem"},submit:{paddingTop:"10px",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}};var U=Object(P.a)(Object(M.a)(z.styles)(z)),J=a(5),K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={isLoggedIn:a.props.auth.isAuthenticated,data:void 0,columns:void 0,loadGrid:!1},a.refreshData=a.refreshData.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.ajaxPost(this.props.query,new FormData).then((function(e){r=e}));case 2:this.setState({data:r.data.result,columns:r.columns,loadGrid:(null===(t=r)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:null===(n=a.result)||void 0===n?void 0:n.length)>1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshData",value:function(){this.setState({loadGrid:!0}),window.location.reload()}},{key:"render",value:function(){var e=this.props.classes;return this.state.loadGrid?r.a.createElement(U,{user:this.props.auth.user,refreshData:this.refreshData,data:this.state.data,columns:this.state.columns,allowEdit:!0,title:this.props.title}):r.a.createElement(y.a,{className:e.noData},r.a.createElement(O.a,{variant:"h3",component:"p"},"No data has been found!"))}}]),t}(n.Component);K.styles={noData:{display:"grid",alignItems:"center",alignContent:"center",justifyContent:"center",placeContent:"center",width:"50%"}};var $=Object(E.g)(Object(J.a)(K.styles)(K)),Q=a(365),X=a(488),Z=a(520),_=a(347),ee=a(493),te=a(72),ae=(a(484),n.Component,a(516)),ne=a(517),re=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={username:null,password:null,isLoggedIn:!1,loginFailed:null},e.handleLoginClick=e.handleLoginClick.bind(Object(p.a)(e)),e}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.checkAuthentication().then((function(e){console.log(e),t=e}));case 2:this.setState({isLoggedIn:t.isAuthenticated});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLoginClick",value:function(e){var t=this,a=new FormData;Object.keys(this.state).forEach((function(e){return a.append(e,t.state[e])})),V.ajaxPost("login",a).then((function(e){console.log(e),t.setState({isLoggedIn:e.isAuthenticated,loginFailed:!e.isAuthenticated})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.history,n=t.classes;this.state.isLoggedIn&&a.replace("/players");var o={step:300,className:n.formControl},i={className:n.inputLabel,required:!0,color:"primary"};return r.a.createElement(ne.a,{className:n.grid},r.a.createElement(x.a,null,r.a.createElement(ae.a,null,r.a.createElement("form",{className:n.form},r.a.createElement(A.a,null,r.a.createElement(S.a,{error:this.state.loginFailed,InputLabelProps:i,label:"Username",inputProps:o,className:n.formControl,id:"username",name:"usernmae",placeholder:"Enter Username",onChange:function(t){e.setState({username:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.state.username&&e.state.password&&e.handleLoginClick(t)}})),r.a.createElement(A.a,null,r.a.createElement(S.a,{error:this.state.loginFailed,InputLabelProps:i,label:"Password",inputProps:o,className:n.formControl,id:"password",name:"password",type:"password",placeholder:"Enter password here",onChange:function(t){return e.setState({password:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.state.username&&e.state.password&&e.handleLoginClick(t)}})))),r.a.createElement(N.a,null,r.a.createElement(L.a,{className:n.loginButton,onClick:function(t){return e.handleLoginClick(t)}},"Login"))))}}]),t}(n.Component);re.style=function(e){return{grid:{display:"grid",placeContent:"center",placeSelf:"center",height:"100%",width:"100%"},form:{display:"grid",gridAutoFlow:"row",gap:"1.5rem",height:"min-content"},loginButton:{padding:"5px",borderRadius:"5px"},formControl:{padding:"2rem",borderRadius:"5px"},inputLabel:{fontSize:"1.2rem"}}};var oe=Object(E.g)(Object(P.a)(Object(J.a)(re.style)(re))),ie=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return console.log(this.props.location),r.a.createElement(y.a,{className:e.root},r.a.createElement(O.a,{variant:"h4",component:"p"},"Uh oh! The page: ",this.props.location.pathname," doesn't exist!"),r.a.createElement(O.a,{variant:"caption",component:"p"},"Please use the menu to navigate to a page that does!"))}}]),t}(n.Component);ie.styles={root:{placeSelf:"center",alignSelf:"center",alignItems:"center",placeItems:"center",display:"grid",gridAutoRows:"4rem",width:"calc(100% - 65%)",marginLeft:"calc(100% - 75%)",padding:"10px"}};var le=Object(E.g)(Object(J.a)(ie.styles)(ie)),se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={isAuthenticated:a.props.isAuthenticated,user:a.props.user,drawerOpen:a.props.drawerOpen,toggle:a.props.drawerTrigger,pages:a.props.pages},a.toggleDrawer=function(){return a.props.drawerTrigger},a.toggleDrawer=a.toggleDrawer.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"ProtectedRoute",value:function(e){var t=e.children,a=e.isAuthenticated,n=Object(v.a)(e,["children","isAuthenticated"]);return r.a.createElement(E.b,Object.assign({},n,{render:function(e){var n=e.location;return a?t:r.a.createElement(E.a,{to:{pathname:"/login",state:{from:n}}})}}))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.history,t.classes);function n(e){var t=e.icon,a=e.primary,n=e.to,o=e.onClick,i=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(f.b,Object.assign({ref:t,to:n},e))}))}),[n]);return r.a.createElement("li",{onClick:o},r.a.createElement(X.a,{component:i},t?r.a.createElement(Z.a,null,t):null,r.a.createElement(_.a,{primary:a})))}return r.a.createElement("div",{className:a.grid},r.a.createElement(te.a,{open:this.props.drawerOpen},r.a.createElement(y.a,{elevation:0},r.a.createElement(ee.a,null,r.a.createElement(n,{primary:"Home",to:"/players",icon:r.a.createElement(Q.a,null)}),this.state.pages.map((function(t){var a,o=(a=t.icon,Object.entries(w).find((function(e){var t=Object(b.a)(e,2),n=t[0];return t[1],n.toLowerCase()===a}))[1]);return r.a.createElement(n,{key:t.route,primary:t.title,to:t.route,icon:r.a.createElement(o,null),onClick:e.props.drawerTrigger})}))))),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/"},r.a.createElement(E.a,{to:"/players"})),r.a.createElement(E.b,{path:"/players"},r.a.createElement($,{query:"getPlayers",title:"Players",auth:{isAuthenticated:this.state.isAuthenticated,user:this.state.user}})),r.a.createElement(E.b,{exact:!0,path:"/login"},r.a.createElement(oe,null)),r.a.createElement(E.b,{path:"*"},r.a.createElement(le,{className:a.error404}))))}}]),t}(n.Component);se.style=function(e){return{grid:{placeSelf:"center",height:"100%",width:"100%"},error404:{placeSelf:"center",alignSelf:"center",display:"grid",gridAutoRows:"4rem",width:"40%"}}};var ce=Object(E.g)(Object(P.a)(Object(J.a)(se.style)(se))),ue=a(362),de=a(163),me=a(519),he=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:a.props.isAuthenticated,user:a.props.user},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.classes;return e=this.state.isLoggedIn?r.a.createElement(y.a,{className:t.paper,elevation:3},r.a.createElement(O.a,{component:"span",className:t.loggedInText},"Logged in as ",this.state.user.username),r.a.createElement(de.a,{component:me.a,to:"/",onClick:this.props.logout},r.a.createElement(ue.a,null))):r.a.createElement("div",null,r.a.createElement(me.a,{component:f.b,to:"/login",className:t.lb},r.a.createElement(L.a,{className:t.loginButton},"login"))),e}}]),t}(n.Component);he.style=function(e){return{lb:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,textDecoration:"none"},loginButton:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,textDecoration:"none"},loggedInText:{maxWidth:"100%",color:e.palette.secondary.contrastText},paper:{backgroundColor:e.palette.secondary.main,height:"2rem",width:"14rem",placeContent:"center",alignContent:"center",alignItems:"center",display:"grid",gridAutoFlow:"column"}}};var pe=Object(P.a)(Object(J.a)(he.style)(he)),ge=a(382),fe=a(329),be=a(518),ve=a(512),Ee=a(513),ye=a(262),Oe=a(364),Ce=(a(485),a(134)),je=a(140),we=a(137),ke=Object(Ce.a)({palette:{primary:{main:je.a[700]},secondary:{main:we.a[500]}}}),De=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={isAuthenticated:null,user:null,open:!0,drawerOpen:!1,pages:[]},a.handleDrawerState=a.handleDrawerState.bind(Object(p.a)(a)),a.logout=a.logout.bind(Object(p.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.checkAuthentication().then((function(e){t=e}));case 2:return e.next=4,V.ajaxPost("pages",new FormData).then((function(e){a=e}));case 4:this.setState({isAuthenticated:t.isAuthenticated,user:t.user[0],pages:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDrawerState",value:function(){this.setState({drawerOpen:!this.state.drawerOpen})}},{key:"logout",value:function(){V.ajaxPost("logout",new FormData).then((function(e){return e})),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props.classes;return null===this.state.isAuthenticated?r.a.createElement(ge.a,{className:t.backdrop,open:this.state.open,onClick:function(){e.setState({open:!1})}},r.a.createElement(fe.a,{color:"inherit"})):r.a.createElement(be.a,null,r.a.createElement(ve.a,{theme:ke},r.a.createElement(f.a,{basename:"DAP522/assignment/"},r.a.createElement(Ee.a,{position:"static"},r.a.createElement(ye.a,null,r.a.createElement(de.a,{className:t.menuButton,edge:"start",color:"inherit","aria-label":"menu",onClick:this.handleDrawerState},r.a.createElement(Oe.a,null)),r.a.createElement(O.a,{className:t.title,variant:"h6"}," Stirlands Cricket Club "),r.a.createElement(pe,{logout:this.logout,isAuthenticated:this.state.isAuthenticated,user:this.state.user}))),r.a.createElement("div",{className:"rootGrid"},r.a.createElement(ce,{pages:this.state.pages,drawerOpen:this.state.drawerOpen,drawerTrigger:this.handleDrawerState,className:t.root,isAuthenticated:this.state.isAuthenticated,user:this.state.user})))))}}]),t}(n.Component),xe=Object(J.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return{root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"black",height:48,padding:"0 30px",display:"grid",gridAutoFlow:"column"},backdrop:{zIndex:100,color:"#999"},baseGrid:{backgroundColor:"rgb(100, 100, 100)",display:"grid",gridTemplateColumns:"1fr 3fr"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(De);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[386,1,2]]]);
//# sourceMappingURL=main.f1938219.chunk.js.map